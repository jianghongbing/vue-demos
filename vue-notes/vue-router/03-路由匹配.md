# 路由匹配

vue-router通过router-view组件来暴露UI接口, 当前路由器匹配到某个路由(也就是在定义路由时, 所设置的路径)时, 就将该路由的组件放入到router-view中. 

## 动态路由

路由器是通过一定的规则来匹配路由的, 该规则可能匹配到多个路由, 将该规则匹配到的路由全部都映射到同一个组件. 最简单的就是某个路由和当前路由的路径完全一致, 但是在某些规则下, 该路由可能也会被其他规则匹配到, 此时需要通过动态路由参数来处理解决该问题. 一个路径参数使用冒号:标记. 当匹配到一个路由时, 参数值会被设置到this.$route.params. 当使用路由参数时, 例如从 /user/foo 导航到 /user/bar, 原来的组件实例会被复用. 因为两个路由都渲染同个组件, 比起销毁再创建, 复用则显得更加高效. 不过这也意味着组件的生命周期钩子不会再被调用. 复用组件时, 想对路由参数的变化作出响应的话, 可以通过watch来监测$route 对象的变化.

## 匹配所有路由

常规参数只会匹配被 / 分隔的 URL 片段中的字符. 可以通过通配符*来匹配到所有的路由, 一般将404 NotFound使用通配符来匹配. 

## 匹配模式和优先级

vue-router是使用[path-to-regexp](https://github.com/pillarjs/path-to-regexp)作为匹配引擎的, 所以支持很多高级的匹配模式, 例如可选的动态路径参数、匹配零个或多个、一个或多个, 甚至是自定义正则匹配. 当同一个路径匹配到多个路由时, 究竟是映射那个路由的组件时, 是通过路由匹配的优先级来来渲染的. 越先定义的路由, 路由匹配的优先级最高. 也因此常将404 NotFound的路由放在最后定义. 





