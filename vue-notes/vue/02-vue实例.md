# Vue实例

每个Vue应用都是通过用Vue函数创建一个新的Vue实例开始的, 在创建实例的时候可以传递某些参数实例(例如, data, props等), 该实例会作为Vue应用的根实例. 另外在应用中自定义的组件也是一个实例, 每个实例维护自己独立的状态. 每个Vue应用只有一个根实例, 在应用的组件中, 可以通过$root来访问根实例. 

## 实例的data

 当一个Vue实例被创建时, 它将该data中的所有的property加入到Vue的响应式系统中. 当这些property的值发生改变时,视图将会产生响应, 即匹配更新为新的值. 在实例创建后在data中添加的属性不会被加入到响应式系统中. 使用Object.freeze(), 将会阻止修改现有的property, 意味着响应系统无法再追踪变化. 

 ## 实例的生命周期

 每个Vue实例在被创建到被回收期间, 会经历一些不同的阶段. 在这过过程中, 会执行一些生命周期钩子函数, 用户可以在这个钩子函数中处理自己的逻辑和一些清理工作. 所有的生命周期钩子自动绑定this上下文到实例中, 因此你可以访问实例上的数据, 对property和方法进行运算. 实例的生命周期的钩子函数的说明如下:
  * beforeCreate: 在实例初始化之后, 和data, props, methods, watch完成配置之前触发. 该函数在实例的生命周期期间只会触发一次 
  * created: 在实例创建完成后被立即调用在这一步, 此时, data, props, watch等已经配置完成. 该函数在实例的生命周期期间只会触发一次. 
  * beforeMount: 在挂载开始之前被调用, 相关的render函数首次被调用. 该钩子在服务器端渲染期间不被调用. 该函数在实例的生命周期期间只会触发一次, 此时实例的$el仍然为undefined. 该函数在实例的生命周期期间只会触发一次. 
  * mounted: 实例被挂载后调用, 这时el被新创建的vm.$el替换了. 如果根实例挂载到了一个文档内的元素上, 当 mounted 被调用时vm.$el也在文档内. 注意mounted不会保证所有的子组件也都一起被挂载. 如果你希望等到整个视图都渲染完毕, 可以在mounted内部使用vm.$nextTick. 该函数在实例的生命周期期间只会触发一次. 
  * beforeDestroy: 实例销毁之前调用. 在这一步, 实例仍然完全可用. 该函数在实例的生命周期期间只会触发一次.
  * destroyed: 实例销毁后调用. 该钩子被调用后, 对应Vue实例的所有指令都被解绑, 所有的事件监听器被移除, 所有的子实例也都被销毁. 可以在该函数中, 做一些清理工作. 该函数在实例的生命周期期间只会触发一次.
  * beforeUpdate: 数据更新时或者调用forceUpdate()函数后调用, 发生实例数据修改后DOM更新之前. 这里适合在更新之前访问现有的 DOM. 比如手动移除已添加的事件监听器. 该函数在实例的生命周期期间只会触发多次.
  * render: 重新渲染虚拟DOM. 当实例或者组件中有render函数时, Vue构造函数不会从template选项或通过el选项指定的挂载元素中提取出的HTML模板编译渲染函数, 而是使用render函数中返回的元素. 
  * updated: 数据更新完成, DOM也重新渲染完成之后. updated不会保证所有的子组件也都一起被重绘. 如果你希望等到整个视图都重绘完毕. 可以在updated里使用vm.$nextTick. 该函数在实例的生命周期期间只会触发多次.
  * activated: 被 keep-alive 缓存的组件激活时调用. 该函数在实例的生命周期期间只会触发多次.
  * errorCaptured: 当捕获一个来自子孙组件的错误时被调用. 该函数在实例的生命周期期间只会触发多次. 组件的错误传播规则: 
    * 默认情况下, 如果全局的 config.errorHandler 被定义, 所有的错误仍会发送它. 因此这些错误仍然会向单一的分析服务的地方进行汇报. 
    * 如果一个组件的继承或父级从属链路中存在多个 errorCaptured 钩子, 则它们将会被相同的错误逐个唤起. 
    * 如果此 errorCaptured 钩子自身抛出了一个错误, 则这个新错误和原本被捕获的错误都会发送给全局的 config.errorHandler. 
    * 一个 errorCaptured 钩子能够返回 false 以阻止错误继续向上传播. 本质上是说“这个错误已经被搞定了且应该被忽略”. 它会阻止其它任何会被这个错误唤起的 errorCaptured 钩子和全局的 config.errorHandler. 


